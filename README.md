# AI Chat CLI 应用

一个功能强大的命令行 AI 聊天应用，支持多会话管理、知识库检索和上下文记忆。

## 🌟 主要特性

### 1. 智能对话系统
- 基于 OpenAI GPT 模型的智能对话
- 上下文记忆，保持对话连贯性
- 支持多轮对话历史记录
- 智能理解和回答用户问题

### 2. 会话管理
- 多会话并行支持
- 会话列表查看和切换
  - 显示会话创建时间
  - 显示会话唯一标识符（UUID）
  - 显示首条消息预览
  - 显示最新消息预览
  - 显示消息数量统计
  - 当前活动会话标记
- 会话存储双重保障
  - 数据库存储（主要存储）
  - 本地文件存储（备份存储）

### 3. RAG 知识库检索
- 支持文档知识库构建
- 向量化存储和检索
- 智能文档相关性匹配
- 支持多种文档格式

### 4. 用户系统
- 用户数据管理
- 会话历史记录保存
- 用户配置个性化
- 数据持久化存储

### 5. 系统命令
- `/list` - 查看历史会话列表
- `/switch` - 切换到指定会话
- `/new` - 创建新会话
- `/clear` - 清除当前会话上下文
- `/exit` - 退出应用程序
- `/help` - 显示帮助信息

## 🛠️ 技术架构

### 核心组件
1. **对话引擎**
   - OpenAI API 集成
   - 对话上下文管理
   - 响应格式化处理

2. **存储系统**
   - Prisma ORM 数据库操作
   - 本地 JSON 文件存储
   - 用户数据持久化

3. **知识库系统**
   - 文档向量化处理
   - 向量数据库存储
   - 相似度检索算法

4. **命令行界面**
   - 交互式命令处理
   - 格式化输出展示
   - 用户输入处理

## 📦 依赖项目
- Node.js
- OpenAI API
- Prisma ORM
- LangChain
- Vector Store

## 🚀 快速开始

### 环境要求
- Node.js 16.x 或更高版本
- NPM 或 Yarn 包管理器
- OpenAI API 密钥

### 安装步骤
1. 克隆项目
```bash
git clone [项目地址]
cd ai-chat4
```

2. 安装依赖
```bash
npm install
```

3. 配置环境变量
```bash
cp .env.example .env
# 编辑 .env 文件，填入必要的配置信息
```

4. 运行应用
```bash
npm start
```

## 💡 使用指南

### 基本操作
1. **启动应用**
   - 运行 `npm start` 启动应用
   - 首次运行将自动创建新会话

2. **对话交互**
   - 直接输入文字进行对话
   - 使用命令前缀 `/` 执行系统命令

3. **会话管理**
   - 使用 `/list` 查看所有会话
   - 使用 `/switch` 切换会话
   - 使用 `/new` 创建新会话

4. **上下文管理**
   - 系统自动维护对话上下文
   - 使用 `/clear` 清除当前上下文

## 🔧 配置说明

### 环境变量
- `OPENAI_API_KEY`: OpenAI API 密钥
- `DATABASE_URL`: 数据库连接字符串
- `VECTOR_STORE_PATH`: 向量存储路径
- `USER_DATA_PATH`: 用户数据存储路径

### 系统配置
- 最大上下文长度设置
- 模型参数配置
- 存储路径配置
- 输出格式设置

## 📈 后续规划

### 计划功能
1. 会话导出功能
2. 会话搜索功能
3. 批量会话管理
4. 知识库管理界面
5. 数据同步备份

### 性能优化
1. 响应速度优化
2. 内存使用优化
3. 存储效率提升

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来帮助改进项目。

## 📄 许可证

MIT License
